import './polyfills.server.mjs';
import{a as He,b as pn,c as gn}from"./chunk-J6UHVQ4S.mjs";import{a as dn,b as Ye,c as Ge}from"./chunk-X3H2QA4E.mjs";import{a as hn}from"./chunk-LME27552.mjs";import{Aa as I,Ab as an,Ba as ne,Bb as cn,C as F,Ca as qe,Fa as R,Fb as un,Ga as k,Gb as fn,Kb as De,Lb as ze,P as ut,Q as p,W as Ne,ea as Ue,fa as L,ga as A,ia as ft,ja as Ee,ka as Te,la as q,ma as C,na as _,oa as Oe,p as Y,ta as Fe,u as ue,v as fe,va as he,w as on,x as sn,xa as P,xb as ln,za as T}from"./chunk-43FWLFEJ.mjs";import{a as nn,b as rn,c as S,e as d,f as Mi}from"./chunk-N7QBYMCK.mjs";var ht=d((yl,mn)=>{"use strict";mn.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}});var Q=d(re=>{"use strict";var dt,vi=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];re.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return e*4+17};re.getSymbolTotalCodewords=function(e){return vi[e]};re.getBCHDigit=function(t){let e=0;for(;t!==0;)e++,t>>>=1;return e};re.setToSJISFunction=function(e){if(typeof e!="function")throw new Error('"toSJISFunc" is not a valid function.');dt=e};re.isKanjiModeEnabled=function(){return typeof dt<"u"};re.toSJIS=function(e){return dt(e)}});var We=d(D=>{"use strict";D.L={bit:1};D.M={bit:0};D.Q={bit:3};D.H={bit:2};function ji(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"l":case"low":return D.L;case"m":case"medium":return D.M;case"q":case"quartile":return D.Q;case"h":case"high":return D.H;default:throw new Error("Unknown EC Level: "+t)}}D.isValid=function(e){return e&&typeof e.bit<"u"&&e.bit>=0&&e.bit<4};D.from=function(e,n){if(D.isValid(e))return e;try{return ji(e)}catch{return n}}});var Cn=d((Tl,bn)=>{"use strict";function _n(){this.buffer=[],this.length=0}_n.prototype={get:function(t){let e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)===1},put:function(t,e){for(let n=0;n<e;n++)this.putBit((t>>>e-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(t){let e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}};bn.exports=_n});var wn=d((Ol,yn)=>{"use strict";function Pe(t){if(!t||t<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=t,this.data=new Uint8Array(t*t),this.reservedBit=new Uint8Array(t*t)}Pe.prototype.set=function(t,e,n,r){let i=t*this.size+e;this.data[i]=n,r&&(this.reservedBit[i]=!0)};Pe.prototype.get=function(t,e){return this.data[t*this.size+e]};Pe.prototype.xor=function(t,e,n){this.data[t*this.size+e]^=n};Pe.prototype.isReserved=function(t,e){return this.reservedBit[t*this.size+e]};yn.exports=Pe});var En=d(Ke=>{"use strict";var Ni=Q().getSymbolSize;Ke.getRowColCoords=function(e){if(e===1)return[];let n=Math.floor(e/7)+2,r=Ni(e),i=r===145?26:Math.ceil((r-13)/(2*n-2))*2,o=[r-7];for(let s=1;s<n-1;s++)o[s]=o[s-1]-i;return o.push(6),o.reverse()};Ke.getPositions=function(e){let n=[],r=Ke.getRowColCoords(e),i=r.length;for(let o=0;o<i;o++)for(let s=0;s<i;s++)o===0&&s===0||o===0&&s===i-1||o===i-1&&s===0||n.push([r[o],r[s]]);return n}});var Pn=d(On=>{"use strict";var Ui=Q().getSymbolSize,Tn=7;On.getPositions=function(e){let n=Ui(e);return[[0,0],[n-Tn,0],[0,n-Tn]]}});var Mn=d(O=>{"use strict";O.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var ie={N1:3,N2:3,N3:40,N4:10};O.isValid=function(e){return e!=null&&e!==""&&!isNaN(e)&&e>=0&&e<=7};O.from=function(e){return O.isValid(e)?parseInt(e,10):void 0};O.getPenaltyN1=function(e){let n=e.size,r=0,i=0,o=0,s=null,l=null;for(let a=0;a<n;a++){i=o=0,s=l=null;for(let c=0;c<n;c++){let u=e.get(a,c);u===s?i++:(i>=5&&(r+=ie.N1+(i-5)),s=u,i=1),u=e.get(c,a),u===l?o++:(o>=5&&(r+=ie.N1+(o-5)),l=u,o=1)}i>=5&&(r+=ie.N1+(i-5)),o>=5&&(r+=ie.N1+(o-5))}return r};O.getPenaltyN2=function(e){let n=e.size,r=0;for(let i=0;i<n-1;i++)for(let o=0;o<n-1;o++){let s=e.get(i,o)+e.get(i,o+1)+e.get(i+1,o)+e.get(i+1,o+1);(s===4||s===0)&&r++}return r*ie.N2};O.getPenaltyN3=function(e){let n=e.size,r=0,i=0,o=0;for(let s=0;s<n;s++){i=o=0;for(let l=0;l<n;l++)i=i<<1&2047|e.get(s,l),l>=10&&(i===1488||i===93)&&r++,o=o<<1&2047|e.get(l,s),l>=10&&(o===1488||o===93)&&r++}return r*ie.N3};O.getPenaltyN4=function(e){let n=0,r=e.data.length;for(let o=0;o<r;o++)n+=e.data[o];return Math.abs(Math.ceil(n*100/r/5)-10)*ie.N4};function Fi(t,e,n){switch(t){case O.Patterns.PATTERN000:return(e+n)%2===0;case O.Patterns.PATTERN001:return e%2===0;case O.Patterns.PATTERN010:return n%3===0;case O.Patterns.PATTERN011:return(e+n)%3===0;case O.Patterns.PATTERN100:return(Math.floor(e/2)+Math.floor(n/3))%2===0;case O.Patterns.PATTERN101:return e*n%2+e*n%3===0;case O.Patterns.PATTERN110:return(e*n%2+e*n%3)%2===0;case O.Patterns.PATTERN111:return(e*n%3+(e+n)%2)%2===0;default:throw new Error("bad maskPattern:"+t)}}O.applyMask=function(e,n){let r=n.size;for(let i=0;i<r;i++)for(let o=0;o<r;o++)n.isReserved(o,i)||n.xor(o,i,Fi(e,o,i))};O.getBestMask=function(e,n){let r=Object.keys(O.Patterns).length,i=0,o=1/0;for(let s=0;s<r;s++){n(s),O.applyMask(s,e);let l=O.getPenaltyN1(e)+O.getPenaltyN2(e)+O.getPenaltyN3(e)+O.getPenaltyN4(e);O.applyMask(s,e),l<o&&(o=l,i=s)}return i}});var gt=d(pt=>{"use strict";var J=We(),Qe=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Je=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];pt.getBlocksCount=function(e,n){switch(n){case J.L:return Qe[(e-1)*4+0];case J.M:return Qe[(e-1)*4+1];case J.Q:return Qe[(e-1)*4+2];case J.H:return Qe[(e-1)*4+3];default:return}};pt.getTotalCodewordsCount=function(e,n){switch(n){case J.L:return Je[(e-1)*4+0];case J.M:return Je[(e-1)*4+1];case J.Q:return Je[(e-1)*4+2];case J.H:return Je[(e-1)*4+3];default:return}}});var Sn=d(Ze=>{"use strict";var Me=new Uint8Array(512),$e=new Uint8Array(256);(function(){let e=1;for(let n=0;n<255;n++)Me[n]=e,$e[e]=n,e<<=1,e&256&&(e^=285);for(let n=255;n<512;n++)Me[n]=Me[n-255]})();Ze.log=function(e){if(e<1)throw new Error("log("+e+")");return $e[e]};Ze.exp=function(e){return Me[e]};Ze.mul=function(e,n){return e===0||n===0?0:Me[$e[e]+$e[n]]}});var In=d(Se=>{"use strict";var mt=Sn();Se.mul=function(e,n){let r=new Uint8Array(e.length+n.length-1);for(let i=0;i<e.length;i++)for(let o=0;o<n.length;o++)r[i+o]^=mt.mul(e[i],n[o]);return r};Se.mod=function(e,n){let r=new Uint8Array(e);for(;r.length-n.length>=0;){let i=r[0];for(let s=0;s<n.length;s++)r[s]^=mt.mul(n[s],i);let o=0;for(;o<r.length&&r[o]===0;)o++;r=r.slice(o)}return r};Se.generateECPolynomial=function(e){let n=new Uint8Array([1]);for(let r=0;r<e;r++)n=Se.mul(n,new Uint8Array([1,mt.exp(r)]));return n}});var Ln=d((Ll,Bn)=>{"use strict";var xn=In();function _t(t){this.genPoly=void 0,this.degree=t,this.degree&&this.initialize(this.degree)}_t.prototype.initialize=function(e){this.degree=e,this.genPoly=xn.generateECPolynomial(this.degree)};_t.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");let n=new Uint8Array(e.length+this.degree);n.set(e);let r=xn.mod(n,this.genPoly),i=this.degree-r.length;if(i>0){let o=new Uint8Array(this.degree);return o.set(r,i),o}return r};Bn.exports=_t});var bt=d(An=>{"use strict";An.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}});var Ct=d(K=>{"use strict";var Rn="[0-9]+",qi="[A-Z $%*+\\-./:]+",Ie="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Ie=Ie.replace(/u/g,"\\u");var Di="(?:(?![A-Z0-9 $%*+\\-./:]|"+Ie+`)(?:.|[\r
]))+`;K.KANJI=new RegExp(Ie,"g");K.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");K.BYTE=new RegExp(Di,"g");K.NUMERIC=new RegExp(Rn,"g");K.ALPHANUMERIC=new RegExp(qi,"g");var zi=new RegExp("^"+Ie+"$"),Hi=new RegExp("^"+Rn+"$"),Yi=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");K.testKanji=function(e){return zi.test(e)};K.testNumeric=function(e){return Hi.test(e)};K.testAlphanumeric=function(e){return Yi.test(e)}});var $=d(M=>{"use strict";var Gi=bt(),yt=Ct();M.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]};M.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]};M.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]};M.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]};M.MIXED={bit:-1};M.getCharCountIndicator=function(e,n){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!Gi.isValid(n))throw new Error("Invalid version: "+n);return n>=1&&n<10?e.ccBits[0]:n<27?e.ccBits[1]:e.ccBits[2]};M.getBestModeForData=function(e){return yt.testNumeric(e)?M.NUMERIC:yt.testAlphanumeric(e)?M.ALPHANUMERIC:yt.testKanji(e)?M.KANJI:M.BYTE};M.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")};M.isValid=function(e){return e&&e.bit&&e.ccBits};function Vi(t){if(typeof t!="string")throw new Error("Param is not a string");switch(t.toLowerCase()){case"numeric":return M.NUMERIC;case"alphanumeric":return M.ALPHANUMERIC;case"kanji":return M.KANJI;case"byte":return M.BYTE;default:throw new Error("Unknown mode: "+t)}}M.from=function(e,n){if(M.isValid(e))return e;try{return Vi(e)}catch{return n}}});var Un=d(oe=>{"use strict";var Xe=Q(),Wi=gt(),kn=We(),Z=$(),wt=bt(),jn=7973,vn=Xe.getBCHDigit(jn);function Ki(t,e,n){for(let r=1;r<=40;r++)if(e<=oe.getCapacity(r,n,t))return r}function Nn(t,e){return Z.getCharCountIndicator(t,e)+4}function Qi(t,e){let n=0;return t.forEach(function(r){let i=Nn(r.mode,e);n+=i+r.getBitsLength()}),n}function Ji(t,e){for(let n=1;n<=40;n++)if(Qi(t,n)<=oe.getCapacity(n,e,Z.MIXED))return n}oe.from=function(e,n){return wt.isValid(e)?parseInt(e,10):n};oe.getCapacity=function(e,n,r){if(!wt.isValid(e))throw new Error("Invalid QR Code version");typeof r>"u"&&(r=Z.BYTE);let i=Xe.getSymbolTotalCodewords(e),o=Wi.getTotalCodewordsCount(e,n),s=(i-o)*8;if(r===Z.MIXED)return s;let l=s-Nn(r,e);switch(r){case Z.NUMERIC:return Math.floor(l/10*3);case Z.ALPHANUMERIC:return Math.floor(l/11*2);case Z.KANJI:return Math.floor(l/13);case Z.BYTE:default:return Math.floor(l/8)}};oe.getBestVersionForData=function(e,n){let r,i=kn.from(n,kn.M);if(Array.isArray(e)){if(e.length>1)return Ji(e,i);if(e.length===0)return 1;r=e[0]}else r=e;return Ki(r.mode,r.getLength(),i)};oe.getEncodedBits=function(e){if(!wt.isValid(e)||e<7)throw new Error("Invalid QR Code version");let n=e<<12;for(;Xe.getBCHDigit(n)-vn>=0;)n^=jn<<Xe.getBCHDigit(n)-vn;return e<<12|n}});var zn=d(Dn=>{"use strict";var Et=Q(),qn=1335,$i=21522,Fn=Et.getBCHDigit(qn);Dn.getEncodedBits=function(e,n){let r=e.bit<<3|n,i=r<<10;for(;Et.getBCHDigit(i)-Fn>=0;)i^=qn<<Et.getBCHDigit(i)-Fn;return(r<<10|i)^$i}});var Yn=d((Nl,Hn)=>{"use strict";var Zi=$();function de(t){this.mode=Zi.NUMERIC,this.data=t.toString()}de.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)};de.prototype.getLength=function(){return this.data.length};de.prototype.getBitsLength=function(){return de.getBitsLength(this.data.length)};de.prototype.write=function(e){let n,r,i;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),i=parseInt(r,10),e.put(i,10);let o=this.data.length-n;o>0&&(r=this.data.substr(n),i=parseInt(r,10),e.put(i,o*3+1))};Hn.exports=de});var Vn=d((Ul,Gn)=>{"use strict";var Xi=$(),Tt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function pe(t){this.mode=Xi.ALPHANUMERIC,this.data=t}pe.getBitsLength=function(e){return 11*Math.floor(e/2)+6*(e%2)};pe.prototype.getLength=function(){return this.data.length};pe.prototype.getBitsLength=function(){return pe.getBitsLength(this.data.length)};pe.prototype.write=function(e){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Tt.indexOf(this.data[n])*45;r+=Tt.indexOf(this.data[n+1]),e.put(r,11)}this.data.length%2&&e.put(Tt.indexOf(this.data[n]),6)};Gn.exports=pe});var Kn=d((Fl,Wn)=>{"use strict";var eo=$();function ge(t){this.mode=eo.BYTE,typeof t=="string"?this.data=new TextEncoder().encode(t):this.data=new Uint8Array(t)}ge.getBitsLength=function(e){return e*8};ge.prototype.getLength=function(){return this.data.length};ge.prototype.getBitsLength=function(){return ge.getBitsLength(this.data.length)};ge.prototype.write=function(t){for(let e=0,n=this.data.length;e<n;e++)t.put(this.data[e],8)};Wn.exports=ge});var Jn=d((ql,Qn)=>{"use strict";var to=$(),no=Q();function me(t){this.mode=to.KANJI,this.data=t}me.getBitsLength=function(e){return e*13};me.prototype.getLength=function(){return this.data.length};me.prototype.getBitsLength=function(){return me.getBitsLength(this.data.length)};me.prototype.write=function(t){let e;for(e=0;e<this.data.length;e++){let n=no.toSJIS(this.data[e]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[e]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),t.put(n,13)}};Qn.exports=me});var $n=d((Dl,Ot)=>{"use strict";var xe={single_source_shortest_paths:function(t,e,n){var r={},i={};i[e]=0;var o=xe.PriorityQueue.make();o.push(e,0);for(var s,l,a,c,u,f,h,g,m;!o.empty();){s=o.pop(),l=s.value,c=s.cost,u=t[l]||{};for(a in u)u.hasOwnProperty(a)&&(f=u[a],h=c+f,g=i[a],m=typeof i[a]>"u",(m||g>h)&&(i[a]=h,o.push(a,h),r[a]=l))}if(typeof n<"u"&&typeof i[n]>"u"){var y=["Could not find a path from ",e," to ",n,"."].join("");throw new Error(y)}return r},extract_shortest_path_from_predecessor_list:function(t,e){for(var n=[],r=e,i;r;)n.push(r),i=t[r],r=t[r];return n.reverse(),n},find_path:function(t,e,n){var r=xe.single_source_shortest_paths(t,e,n);return xe.extract_shortest_path_from_predecessor_list(r,n)},PriorityQueue:{make:function(t){var e=xe.PriorityQueue,n={},r;t=t||{};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n.queue=[],n.sorter=t.sorter||e.default_sorter,n},default_sorter:function(t,e){return t.cost-e.cost},push:function(t,e){var n={value:t,cost:e};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};typeof Ot<"u"&&(Ot.exports=xe)});var or=d(_e=>{"use strict";var w=$(),er=Yn(),tr=Vn(),nr=Kn(),rr=Jn(),Be=Ct(),et=Q(),ro=$n();function Zn(t){return unescape(encodeURIComponent(t)).length}function Le(t,e,n){let r=[],i;for(;(i=t.exec(n))!==null;)r.push({data:i[0],index:i.index,mode:e,length:i[0].length});return r}function ir(t){let e=Le(Be.NUMERIC,w.NUMERIC,t),n=Le(Be.ALPHANUMERIC,w.ALPHANUMERIC,t),r,i;return et.isKanjiModeEnabled()?(r=Le(Be.BYTE,w.BYTE,t),i=Le(Be.KANJI,w.KANJI,t)):(r=Le(Be.BYTE_KANJI,w.BYTE,t),i=[]),e.concat(n,r,i).sort(function(s,l){return s.index-l.index}).map(function(s){return{data:s.data,mode:s.mode,length:s.length}})}function Pt(t,e){switch(e){case w.NUMERIC:return er.getBitsLength(t);case w.ALPHANUMERIC:return tr.getBitsLength(t);case w.KANJI:return rr.getBitsLength(t);case w.BYTE:return nr.getBitsLength(t)}}function io(t){return t.reduce(function(e,n){let r=e.length-1>=0?e[e.length-1]:null;return r&&r.mode===n.mode?(e[e.length-1].data+=n.data,e):(e.push(n),e)},[])}function oo(t){let e=[];for(let n=0;n<t.length;n++){let r=t[n];switch(r.mode){case w.NUMERIC:e.push([r,{data:r.data,mode:w.ALPHANUMERIC,length:r.length},{data:r.data,mode:w.BYTE,length:r.length}]);break;case w.ALPHANUMERIC:e.push([r,{data:r.data,mode:w.BYTE,length:r.length}]);break;case w.KANJI:e.push([r,{data:r.data,mode:w.BYTE,length:Zn(r.data)}]);break;case w.BYTE:e.push([{data:r.data,mode:w.BYTE,length:Zn(r.data)}])}}return e}function so(t,e){let n={},r={start:{}},i=["start"];for(let o=0;o<t.length;o++){let s=t[o],l=[];for(let a=0;a<s.length;a++){let c=s[a],u=""+o+a;l.push(u),n[u]={node:c,lastCount:0},r[u]={};for(let f=0;f<i.length;f++){let h=i[f];n[h]&&n[h].node.mode===c.mode?(r[h][u]=Pt(n[h].lastCount+c.length,c.mode)-Pt(n[h].lastCount,c.mode),n[h].lastCount+=c.length):(n[h]&&(n[h].lastCount=c.length),r[h][u]=Pt(c.length,c.mode)+4+w.getCharCountIndicator(c.mode,e))}}i=l}for(let o=0;o<i.length;o++)r[i[o]].end=0;return{map:r,table:n}}function Xn(t,e){let n,r=w.getBestModeForData(t);if(n=w.from(e,r),n!==w.BYTE&&n.bit<r.bit)throw new Error('"'+t+'" cannot be encoded with mode '+w.toString(n)+`.
 Suggested mode is: `+w.toString(r));switch(n===w.KANJI&&!et.isKanjiModeEnabled()&&(n=w.BYTE),n){case w.NUMERIC:return new er(t);case w.ALPHANUMERIC:return new tr(t);case w.KANJI:return new rr(t);case w.BYTE:return new nr(t)}}_e.fromArray=function(e){return e.reduce(function(n,r){return typeof r=="string"?n.push(Xn(r,null)):r.data&&n.push(Xn(r.data,r.mode)),n},[])};_e.fromString=function(e,n){let r=ir(e,et.isKanjiModeEnabled()),i=oo(r),o=so(i,n),s=ro.find_path(o.map,"start","end"),l=[];for(let a=1;a<s.length-1;a++)l.push(o.table[s[a]].node);return _e.fromArray(io(l))};_e.rawSplit=function(e){return _e.fromArray(ir(e,et.isKanjiModeEnabled()))}});var Lt=d(sr=>{"use strict";var nt=Q(),Mt=We(),lo=Cn(),ao=wn(),co=En(),uo=Pn(),xt=Mn(),Bt=gt(),fo=Ln(),tt=Un(),ho=zn(),po=$(),St=or();function go(t,e){let n=t.size,r=uo.getPositions(e);for(let i=0;i<r.length;i++){let o=r[i][0],s=r[i][1];for(let l=-1;l<=7;l++)if(!(o+l<=-1||n<=o+l))for(let a=-1;a<=7;a++)s+a<=-1||n<=s+a||(l>=0&&l<=6&&(a===0||a===6)||a>=0&&a<=6&&(l===0||l===6)||l>=2&&l<=4&&a>=2&&a<=4?t.set(o+l,s+a,!0,!0):t.set(o+l,s+a,!1,!0))}}function mo(t){let e=t.size;for(let n=8;n<e-8;n++){let r=n%2===0;t.set(n,6,r,!0),t.set(6,n,r,!0)}}function _o(t,e){let n=co.getPositions(e);for(let r=0;r<n.length;r++){let i=n[r][0],o=n[r][1];for(let s=-2;s<=2;s++)for(let l=-2;l<=2;l++)s===-2||s===2||l===-2||l===2||s===0&&l===0?t.set(i+s,o+l,!0,!0):t.set(i+s,o+l,!1,!0)}}function bo(t,e){let n=t.size,r=tt.getEncodedBits(e),i,o,s;for(let l=0;l<18;l++)i=Math.floor(l/3),o=l%3+n-8-3,s=(r>>l&1)===1,t.set(i,o,s,!0),t.set(o,i,s,!0)}function It(t,e,n){let r=t.size,i=ho.getEncodedBits(e,n),o,s;for(o=0;o<15;o++)s=(i>>o&1)===1,o<6?t.set(o,8,s,!0):o<8?t.set(o+1,8,s,!0):t.set(r-15+o,8,s,!0),o<8?t.set(8,r-o-1,s,!0):o<9?t.set(8,15-o-1+1,s,!0):t.set(8,15-o-1,s,!0);t.set(r-8,8,1,!0)}function Co(t,e){let n=t.size,r=-1,i=n-1,o=7,s=0;for(let l=n-1;l>0;l-=2)for(l===6&&l--;;){for(let a=0;a<2;a++)if(!t.isReserved(i,l-a)){let c=!1;s<e.length&&(c=(e[s]>>>o&1)===1),t.set(i,l-a,c),o--,o===-1&&(s++,o=7)}if(i+=r,i<0||n<=i){i-=r,r=-r;break}}}function yo(t,e,n){let r=new lo;n.forEach(function(a){r.put(a.mode.bit,4),r.put(a.getLength(),po.getCharCountIndicator(a.mode,t)),a.write(r)});let i=nt.getSymbolTotalCodewords(t),o=Bt.getTotalCodewordsCount(t,e),s=(i-o)*8;for(r.getLengthInBits()+4<=s&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);let l=(s-r.getLengthInBits())/8;for(let a=0;a<l;a++)r.put(a%2?17:236,8);return wo(r,t,e)}function wo(t,e,n){let r=nt.getSymbolTotalCodewords(e),i=Bt.getTotalCodewordsCount(e,n),o=r-i,s=Bt.getBlocksCount(e,n),l=r%s,a=s-l,c=Math.floor(r/s),u=Math.floor(o/s),f=u+1,h=c-u,g=new fo(h),m=0,y=new Array(s),b=new Array(s),E=0,at=new Uint8Array(t.buffer);for(let ce=0;ce<s;ce++){let ct=ce<a?u:f;y[ce]=at.slice(m,m+ct),b[ce]=g.encode(y[ce]),m+=ct,E=Math.max(E,ct)}let we=new Uint8Array(r),j=0,U,W;for(U=0;U<E;U++)for(W=0;W<s;W++)U<y[W].length&&(we[j++]=y[W][U]);for(U=0;U<h;U++)for(W=0;W<s;W++)we[j++]=b[W][U];return we}function Eo(t,e,n,r){let i;if(Array.isArray(t))i=St.fromArray(t);else if(typeof t=="string"){let c=e;if(!c){let u=St.rawSplit(t);c=tt.getBestVersionForData(u,n)}i=St.fromString(t,c||40)}else throw new Error("Invalid data");let o=tt.getBestVersionForData(i,n);if(!o)throw new Error("The amount of data is too big to be stored in a QR Code");if(!e)e=o;else if(e<o)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+o+`.
`);let s=yo(e,n,i),l=nt.getSymbolSize(e),a=new ao(l);return go(a,e),mo(a),_o(a,e),It(a,n,0),e>=7&&bo(a,e),Co(a,s),isNaN(r)&&(r=xt.getBestMask(a,It.bind(null,a,n))),xt.applyMask(r,a),It(a,n,r),{modules:a,version:e,errorCorrectionLevel:n,maskPattern:r,segments:i}}sr.create=function(e,n){if(typeof e>"u"||e==="")throw new Error("No input text");let r=Mt.M,i,o;return typeof n<"u"&&(r=Mt.from(n.errorCorrectionLevel,Mt.M),i=tt.from(n.version),o=xt.from(n.maskPattern),n.toSJISFunc&&nt.setToSJISFunction(n.toSJISFunc)),Eo(e,i,r,o)}});var At=d((Yl,ar)=>{"use strict";var To=S("util"),lr=S("stream"),H=ar.exports=function(){lr.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};To.inherits(H,lr);H.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e}),process.nextTick((function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}).bind(this))};H.prototype.write=function(t,e){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let n;return Buffer.isBuffer(t)?n=t:n=Buffer.from(t,e||this._encoding),this._buffers.push(n),this._buffered+=n.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused};H.prototype.end=function(t,e){t&&this.write(t,e),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))};H.prototype.destroySoon=H.prototype.end;H.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()};H.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))};H.prototype._processReadAllowingLess=function(t){this._reads.shift();let e=this._buffers[0];e.length>t.length?(this._buffered-=t.length,this._buffers[0]=e.slice(t.length),t.func.call(this,e.slice(0,t.length))):(this._buffered-=e.length,this._buffers.shift(),t.func.call(this,e))};H.prototype._processRead=function(t){this._reads.shift();let e=0,n=0,r=Buffer.alloc(t.length);for(;e<t.length;){let i=this._buffers[n++],o=Math.min(i.length,t.length-e);i.copy(r,e,0,o),e+=o,o!==i.length&&(this._buffers[--n]=i.slice(o))}n>0&&this._buffers.splice(0,n),this._buffered-=t.length,t.func.call(this,r)};H.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let t=this._reads[0];if(t.allowLess)this._processReadAllowingLess(t);else if(this._buffered>=t.length)this._processRead(t);else break}this._buffers&&!this.writable&&this._end()}catch(t){this.emit("error",t)}}});var kt=d(Rt=>{"use strict";var X=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];Rt.getImagePasses=function(t,e){let n=[],r=t%8,i=e%8,o=(t-r)/8,s=(e-i)/8;for(let l=0;l<X.length;l++){let a=X[l],c=o*a.x.length,u=s*a.y.length;for(let f=0;f<a.x.length&&a.x[f]<r;f++)c++;for(let f=0;f<a.y.length&&a.y[f]<i;f++)u++;c>0&&u>0&&n.push({width:c,height:u,index:l})}return n};Rt.getInterlaceIterator=function(t){return function(e,n,r){let i=e%X[r].x.length,o=(e-i)/X[r].x.length*8+X[r].x[i],s=n%X[r].y.length,l=(n-s)/X[r].y.length*8+X[r].y[s];return o*4+l*t*4}}});var vt=d((Vl,cr)=>{"use strict";cr.exports=function(e,n,r){let i=e+n-r,o=Math.abs(i-e),s=Math.abs(i-n),l=Math.abs(i-r);return o<=s&&o<=l?e:s<=l?n:r}});var jt=d((Wl,fr)=>{"use strict";var Oo=kt(),Po=vt();function ur(t,e,n){let r=t*e;return n!==8&&(r=Math.ceil(r/(8/n))),r}var be=fr.exports=function(t,e){let n=t.width,r=t.height,i=t.interlace,o=t.bpp,s=t.depth;if(this.read=e.read,this.write=e.write,this.complete=e.complete,this._imageIndex=0,this._images=[],i){let l=Oo.getImagePasses(n,r);for(let a=0;a<l.length;a++)this._images.push({byteWidth:ur(l[a].width,o,s),height:l[a].height,lineIndex:0})}else this._images.push({byteWidth:ur(n,o,s),height:r,lineIndex:0});s===8?this._xComparison=o:s===16?this._xComparison=o*2:this._xComparison=1};be.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))};be.prototype._unFilterType1=function(t,e,n){let r=this._xComparison,i=r-1;for(let o=0;o<n;o++){let s=t[1+o],l=o>i?e[o-r]:0;e[o]=s+l}};be.prototype._unFilterType2=function(t,e,n){let r=this._lastLine;for(let i=0;i<n;i++){let o=t[1+i],s=r?r[i]:0;e[i]=o+s}};be.prototype._unFilterType3=function(t,e,n){let r=this._xComparison,i=r-1,o=this._lastLine;for(let s=0;s<n;s++){let l=t[1+s],a=o?o[s]:0,c=s>i?e[s-r]:0,u=Math.floor((c+a)/2);e[s]=l+u}};be.prototype._unFilterType4=function(t,e,n){let r=this._xComparison,i=r-1,o=this._lastLine;for(let s=0;s<n;s++){let l=t[1+s],a=o?o[s]:0,c=s>i?e[s-r]:0,u=s>i&&o?o[s-r]:0,f=Po(c,a,u);e[s]=l+f}};be.prototype._reverseFilterLine=function(t){let e=t[0],n,r=this._images[this._imageIndex],i=r.byteWidth;if(e===0)n=t.slice(1,i+1);else switch(n=Buffer.alloc(i),e){case 1:this._unFilterType1(t,n,i);break;case 2:this._unFilterType2(t,n,i);break;case 3:this._unFilterType3(t,n,i);break;case 4:this._unFilterType4(t,n,i);break;default:throw new Error("Unrecognised filter type - "+e)}this.write(n),r.lineIndex++,r.lineIndex>=r.height?(this._lastLine=null,this._imageIndex++,r=this._images[this._imageIndex]):this._lastLine=n,r?this.read(r.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}});var pr=d((Kl,dr)=>{"use strict";var Mo=S("util"),hr=At(),So=jt(),Io=dr.exports=function(t){hr.call(this);let e=[],n=this;this._filter=new So(t,{read:this.read.bind(this),write:function(r){e.push(r)},complete:function(){n.emit("complete",Buffer.concat(e))}}),this._filter.start()};Mo.inherits(Io,hr)});var Ce=d((Ql,gr)=>{"use strict";gr.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}});var Ft=d((Jl,mr)=>{"use strict";var Nt=[];(function(){for(let t=0;t<256;t++){let e=t;for(let n=0;n<8;n++)e&1?e=3988292384^e>>>1:e=e>>>1;Nt[t]=e}})();var Ut=mr.exports=function(){this._crc=-1};Ut.prototype.write=function(t){for(let e=0;e<t.length;e++)this._crc=Nt[(this._crc^t[e])&255]^this._crc>>>8;return!0};Ut.prototype.crc32=function(){return this._crc^-1};Ut.crc32=function(t){let e=-1;for(let n=0;n<t.length;n++)e=Nt[(e^t[n])&255]^e>>>8;return e^-1}});var qt=d(($l,_r)=>{"use strict";var x=Ce(),xo=Ft(),B=_r.exports=function(t,e){this._options=t,t.checkCRC=t.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[x.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[x.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[x.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[x.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[x.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[x.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=e.read,this.error=e.error,this.metadata=e.metadata,this.gamma=e.gamma,this.transColor=e.transColor,this.palette=e.palette,this.parsed=e.parsed,this.inflateData=e.inflateData,this.finished=e.finished,this.simpleTransparency=e.simpleTransparency,this.headersFinished=e.headersFinished||function(){}};B.prototype.start=function(){this.read(x.PNG_SIGNATURE.length,this._parseSignature.bind(this))};B.prototype._parseSignature=function(t){let e=x.PNG_SIGNATURE;for(let n=0;n<e.length;n++)if(t[n]!==e[n]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))};B.prototype._parseChunkBegin=function(t){let e=t.readUInt32BE(0),n=t.readUInt32BE(4),r="";for(let o=4;o<8;o++)r+=String.fromCharCode(t[o]);let i=!!(t[4]&32);if(!this._hasIHDR&&n!==x.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new xo,this._crc.write(Buffer.from(r)),this._chunks[n])return this._chunks[n](e);if(!i){this.error(new Error("Unsupported critical chunk type "+r));return}this.read(e+4,this._skipChunk.bind(this))};B.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))};B.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))};B.prototype._parseChunkEnd=function(t){let e=t.readInt32BE(0),n=this._crc.crc32();if(this._options.checkCRC&&n!==e){this.error(new Error("Crc error - "+e+" - "+n));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))};B.prototype._handleIHDR=function(t){this.read(t,this._parseIHDR.bind(this))};B.prototype._parseIHDR=function(t){this._crc.write(t);let e=t.readUInt32BE(0),n=t.readUInt32BE(4),r=t[8],i=t[9],o=t[10],s=t[11],l=t[12];if(r!==8&&r!==4&&r!==2&&r!==1&&r!==16){this.error(new Error("Unsupported bit depth "+r));return}if(!(i in x.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(o!==0){this.error(new Error("Unsupported compression method"));return}if(s!==0){this.error(new Error("Unsupported filter method"));return}if(l!==0&&l!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=i;let a=x.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:e,height:n,depth:r,interlace:!!l,palette:!!(i&x.COLORTYPE_PALETTE),color:!!(i&x.COLORTYPE_COLOR),alpha:!!(i&x.COLORTYPE_ALPHA),bpp:a,colorType:i}),this._handleChunkEnd()};B.prototype._handlePLTE=function(t){this.read(t,this._parsePLTE.bind(this))};B.prototype._parsePLTE=function(t){this._crc.write(t);let e=Math.floor(t.length/3);for(let n=0;n<e;n++)this._palette.push([t[n*3],t[n*3+1],t[n*3+2],255]);this.palette(this._palette),this._handleChunkEnd()};B.prototype._handleTRNS=function(t){this.simpleTransparency(),this.read(t,this._parseTRNS.bind(this))};B.prototype._parseTRNS=function(t){if(this._crc.write(t),this._colorType===x.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(t.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(let e=0;e<t.length;e++)this._palette[e][3]=t[e];this.palette(this._palette)}this._colorType===x.COLORTYPE_GRAYSCALE&&this.transColor([t.readUInt16BE(0)]),this._colorType===x.COLORTYPE_COLOR&&this.transColor([t.readUInt16BE(0),t.readUInt16BE(2),t.readUInt16BE(4)]),this._handleChunkEnd()};B.prototype._handleGAMA=function(t){this.read(t,this._parseGAMA.bind(this))};B.prototype._parseGAMA=function(t){this._crc.write(t),this.gamma(t.readUInt32BE(0)/x.GAMMA_DIVISION),this._handleChunkEnd()};B.prototype._handleIDAT=function(t){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-t,this._parseIDAT.bind(this,t))};B.prototype._parseIDAT=function(t,e){if(this._crc.write(e),this._colorType===x.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(e);let n=t-e.length;n>0?this._handleIDAT(n):this._handleChunkEnd()};B.prototype._handleIEND=function(t){this.read(t,this._parseIEND.bind(this))};B.prototype._parseIEND=function(t){this._crc.write(t),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}});var Dt=d(Cr=>{"use strict";var br=kt(),Bo=[function(){},function(t,e,n,r){if(r===e.length)throw new Error("Ran out of data");let i=e[r];t[n]=i,t[n+1]=i,t[n+2]=i,t[n+3]=255},function(t,e,n,r){if(r+1>=e.length)throw new Error("Ran out of data");let i=e[r];t[n]=i,t[n+1]=i,t[n+2]=i,t[n+3]=e[r+1]},function(t,e,n,r){if(r+2>=e.length)throw new Error("Ran out of data");t[n]=e[r],t[n+1]=e[r+1],t[n+2]=e[r+2],t[n+3]=255},function(t,e,n,r){if(r+3>=e.length)throw new Error("Ran out of data");t[n]=e[r],t[n+1]=e[r+1],t[n+2]=e[r+2],t[n+3]=e[r+3]}],Lo=[function(){},function(t,e,n,r){let i=e[0];t[n]=i,t[n+1]=i,t[n+2]=i,t[n+3]=r},function(t,e,n){let r=e[0];t[n]=r,t[n+1]=r,t[n+2]=r,t[n+3]=e[1]},function(t,e,n,r){t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=r},function(t,e,n){t[n]=e[0],t[n+1]=e[1],t[n+2]=e[2],t[n+3]=e[3]}];function Ao(t,e){let n=[],r=0;function i(){if(r===t.length)throw new Error("Ran out of data");let o=t[r];r++;let s,l,a,c,u,f,h,g;switch(e){default:throw new Error("unrecognised depth");case 16:h=t[r],r++,n.push((o<<8)+h);break;case 4:h=o&15,g=o>>4,n.push(g,h);break;case 2:u=o&3,f=o>>2&3,h=o>>4&3,g=o>>6&3,n.push(g,h,f,u);break;case 1:s=o&1,l=o>>1&1,a=o>>2&1,c=o>>3&1,u=o>>4&1,f=o>>5&1,h=o>>6&1,g=o>>7&1,n.push(g,h,f,u,c,a,l,s);break}}return{get:function(o){for(;n.length<o;)i();let s=n.slice(0,o);return n=n.slice(o),s},resetAfterLine:function(){n.length=0},end:function(){if(r!==t.length)throw new Error("extra data found")}}}function Ro(t,e,n,r,i,o){let s=t.width,l=t.height,a=t.index;for(let c=0;c<l;c++)for(let u=0;u<s;u++){let f=n(u,c,a);Bo[r](e,i,f,o),o+=r}return o}function ko(t,e,n,r,i,o){let s=t.width,l=t.height,a=t.index;for(let c=0;c<l;c++){for(let u=0;u<s;u++){let f=i.get(r),h=n(u,c,a);Lo[r](e,f,h,o)}i.resetAfterLine()}}Cr.dataToBitMap=function(t,e){let n=e.width,r=e.height,i=e.depth,o=e.bpp,s=e.interlace,l;i!==8&&(l=Ao(t,i));let a;i<=8?a=Buffer.alloc(n*r*4):a=new Uint16Array(n*r*4);let c=Math.pow(2,i)-1,u=0,f,h;if(s)f=br.getImagePasses(n,r),h=br.getInterlaceIterator(n,r);else{let g=0;h=function(){let m=g;return g+=4,m},f=[{width:n,height:r}]}for(let g=0;g<f.length;g++)i===8?u=Ro(f[g],a,h,o,t,u):ko(f[g],a,h,o,l,c);if(i===8){if(u!==t.length)throw new Error("extra data found")}else l.end();return a}});var zt=d((Xl,yr)=>{"use strict";function vo(t,e,n,r,i){let o=0;for(let s=0;s<r;s++)for(let l=0;l<n;l++){let a=i[t[o]];if(!a)throw new Error("index "+t[o]+" not in palette");for(let c=0;c<4;c++)e[o+c]=a[c];o+=4}}function jo(t,e,n,r,i){let o=0;for(let s=0;s<r;s++)for(let l=0;l<n;l++){let a=!1;if(i.length===1?i[0]===t[o]&&(a=!0):i[0]===t[o]&&i[1]===t[o+1]&&i[2]===t[o+2]&&(a=!0),a)for(let c=0;c<4;c++)e[o+c]=0;o+=4}}function No(t,e,n,r,i){let o=255,s=Math.pow(2,i)-1,l=0;for(let a=0;a<r;a++)for(let c=0;c<n;c++){for(let u=0;u<4;u++)e[l+u]=Math.floor(t[l+u]*o/s+.5);l+=4}}yr.exports=function(t,e){let n=e.depth,r=e.width,i=e.height,o=e.colorType,s=e.transColor,l=e.palette,a=t;return o===3?vo(t,a,r,i,l):(s&&jo(t,a,r,i,s),n!==8&&(n===16&&(a=Buffer.alloc(r*i*4)),No(t,a,r,i,n))),a}});var Tr=d((ea,Er)=>{"use strict";var Uo=S("util"),Ht=S("zlib"),wr=At(),Fo=pr(),qo=qt(),Do=Dt(),zo=zt(),G=Er.exports=function(t){wr.call(this),this._parser=new qo(t,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=t,this.writable=!0,this._parser.start()};Uo.inherits(G,wr);G.prototype._handleError=function(t){this.emit("error",t),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0};G.prototype._inflateData=function(t){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=Ht.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let n=((this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1)*this._bitmapInfo.height,r=Math.max(n,Ht.Z_MIN_CHUNK);this._inflate=Ht.createInflate({chunkSize:r});let i=n,o=this.emit.bind(this,"error");this._inflate.on("error",function(l){i&&o(l)}),this._filter.on("complete",this._complete.bind(this));let s=this._filter.write.bind(this._filter);this._inflate.on("data",function(l){i&&(l.length>i&&(l=l.slice(0,i)),i-=l.length,s(l))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(t)};G.prototype._handleMetaData=function(t){this._metaData=t,this._bitmapInfo=Object.create(t),this._filter=new Fo(this._bitmapInfo)};G.prototype._handleTransColor=function(t){this._bitmapInfo.transColor=t};G.prototype._handlePalette=function(t){this._bitmapInfo.palette=t};G.prototype._simpleTransparency=function(){this._metaData.alpha=!0};G.prototype._headersFinished=function(){this.emit("metadata",this._metaData)};G.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))};G.prototype._complete=function(t){if(this.errord)return;let e;try{let n=Do.dataToBitMap(t,this._bitmapInfo);e=zo(n,this._bitmapInfo),n=null}catch(n){this._handleError(n);return}this.emit("parsed",e)}});var Pr=d((ta,Or)=>{"use strict";var z=Ce();Or.exports=function(t,e,n,r){let i=[z.COLORTYPE_COLOR_ALPHA,z.COLORTYPE_ALPHA].indexOf(r.colorType)!==-1;if(r.colorType===r.inputColorType){let m=(function(){let y=new ArrayBuffer(2);return new DataView(y).setInt16(0,256,!0),new Int16Array(y)[0]!==256})();if(r.bitDepth===8||r.bitDepth===16&&m)return t}let o=r.bitDepth!==16?t:new Uint16Array(t.buffer),s=255,l=z.COLORTYPE_TO_BPP_MAP[r.inputColorType];l===4&&!r.inputHasAlpha&&(l=3);let a=z.COLORTYPE_TO_BPP_MAP[r.colorType];r.bitDepth===16&&(s=65535,a*=2);let c=Buffer.alloc(e*n*a),u=0,f=0,h=r.bgColor||{};h.red===void 0&&(h.red=s),h.green===void 0&&(h.green=s),h.blue===void 0&&(h.blue=s);function g(){let m,y,b,E=s;switch(r.inputColorType){case z.COLORTYPE_COLOR_ALPHA:E=o[u+3],m=o[u],y=o[u+1],b=o[u+2];break;case z.COLORTYPE_COLOR:m=o[u],y=o[u+1],b=o[u+2];break;case z.COLORTYPE_ALPHA:E=o[u+1],m=o[u],y=m,b=m;break;case z.COLORTYPE_GRAYSCALE:m=o[u],y=m,b=m;break;default:throw new Error("input color type:"+r.inputColorType+" is not supported at present")}return r.inputHasAlpha&&(i||(E/=s,m=Math.min(Math.max(Math.round((1-E)*h.red+E*m),0),s),y=Math.min(Math.max(Math.round((1-E)*h.green+E*y),0),s),b=Math.min(Math.max(Math.round((1-E)*h.blue+E*b),0),s))),{red:m,green:y,blue:b,alpha:E}}for(let m=0;m<n;m++)for(let y=0;y<e;y++){let b=g(o,u);switch(r.colorType){case z.COLORTYPE_COLOR_ALPHA:case z.COLORTYPE_COLOR:r.bitDepth===8?(c[f]=b.red,c[f+1]=b.green,c[f+2]=b.blue,i&&(c[f+3]=b.alpha)):(c.writeUInt16BE(b.red,f),c.writeUInt16BE(b.green,f+2),c.writeUInt16BE(b.blue,f+4),i&&c.writeUInt16BE(b.alpha,f+6));break;case z.COLORTYPE_ALPHA:case z.COLORTYPE_GRAYSCALE:{let E=(b.red+b.green+b.blue)/3;r.bitDepth===8?(c[f]=E,i&&(c[f+1]=b.alpha)):(c.writeUInt16BE(E,f),i&&c.writeUInt16BE(b.alpha,f+2));break}default:throw new Error("unrecognised color Type "+r.colorType)}u+=l,f+=a}return c}});var Ir=d((na,Sr)=>{"use strict";var Mr=vt();function Ho(t,e,n,r,i){for(let o=0;o<n;o++)r[i+o]=t[e+o]}function Yo(t,e,n){let r=0,i=e+n;for(let o=e;o<i;o++)r+=Math.abs(t[o]);return r}function Go(t,e,n,r,i,o){for(let s=0;s<n;s++){let l=s>=o?t[e+s-o]:0,a=t[e+s]-l;r[i+s]=a}}function Vo(t,e,n,r){let i=0;for(let o=0;o<n;o++){let s=o>=r?t[e+o-r]:0,l=t[e+o]-s;i+=Math.abs(l)}return i}function Wo(t,e,n,r,i){for(let o=0;o<n;o++){let s=e>0?t[e+o-n]:0,l=t[e+o]-s;r[i+o]=l}}function Ko(t,e,n){let r=0,i=e+n;for(let o=e;o<i;o++){let s=e>0?t[o-n]:0,l=t[o]-s;r+=Math.abs(l)}return r}function Qo(t,e,n,r,i,o){for(let s=0;s<n;s++){let l=s>=o?t[e+s-o]:0,a=e>0?t[e+s-n]:0,c=t[e+s]-(l+a>>1);r[i+s]=c}}function Jo(t,e,n,r){let i=0;for(let o=0;o<n;o++){let s=o>=r?t[e+o-r]:0,l=e>0?t[e+o-n]:0,a=t[e+o]-(s+l>>1);i+=Math.abs(a)}return i}function $o(t,e,n,r,i,o){for(let s=0;s<n;s++){let l=s>=o?t[e+s-o]:0,a=e>0?t[e+s-n]:0,c=e>0&&s>=o?t[e+s-(n+o)]:0,u=t[e+s]-Mr(l,a,c);r[i+s]=u}}function Zo(t,e,n,r){let i=0;for(let o=0;o<n;o++){let s=o>=r?t[e+o-r]:0,l=e>0?t[e+o-n]:0,a=e>0&&o>=r?t[e+o-(n+r)]:0,c=t[e+o]-Mr(s,l,a);i+=Math.abs(c)}return i}var Xo={0:Ho,1:Go,2:Wo,3:Qo,4:$o},es={0:Yo,1:Vo,2:Ko,3:Jo,4:Zo};Sr.exports=function(t,e,n,r,i){let o;if(!("filterType"in r)||r.filterType===-1)o=[0,1,2,3,4];else if(typeof r.filterType=="number")o=[r.filterType];else throw new Error("unrecognised filter types");r.bitDepth===16&&(i*=2);let s=e*i,l=0,a=0,c=Buffer.alloc((s+1)*n),u=o[0];for(let f=0;f<n;f++){if(o.length>1){let h=1/0;for(let g=0;g<o.length;g++){let m=es[o[g]](t,a,s,i);m<h&&(u=o[g],h=m)}}c[l]=u,l++,Xo[u](t,a,s,c,l,i),l+=s,a+=s}return c}});var Yt=d((ra,xr)=>{"use strict";var v=Ce(),ts=Ft(),ns=Pr(),rs=Ir(),is=S("zlib"),ee=xr.exports=function(t){if(this._options=t,t.deflateChunkSize=t.deflateChunkSize||32*1024,t.deflateLevel=t.deflateLevel!=null?t.deflateLevel:9,t.deflateStrategy=t.deflateStrategy!=null?t.deflateStrategy:3,t.inputHasAlpha=t.inputHasAlpha!=null?t.inputHasAlpha:!0,t.deflateFactory=t.deflateFactory||is.createDeflate,t.bitDepth=t.bitDepth||8,t.colorType=typeof t.colorType=="number"?t.colorType:v.COLORTYPE_COLOR_ALPHA,t.inputColorType=typeof t.inputColorType=="number"?t.inputColorType:v.COLORTYPE_COLOR_ALPHA,[v.COLORTYPE_GRAYSCALE,v.COLORTYPE_COLOR,v.COLORTYPE_COLOR_ALPHA,v.COLORTYPE_ALPHA].indexOf(t.colorType)===-1)throw new Error("option color type:"+t.colorType+" is not supported at present");if([v.COLORTYPE_GRAYSCALE,v.COLORTYPE_COLOR,v.COLORTYPE_COLOR_ALPHA,v.COLORTYPE_ALPHA].indexOf(t.inputColorType)===-1)throw new Error("option input color type:"+t.inputColorType+" is not supported at present");if(t.bitDepth!==8&&t.bitDepth!==16)throw new Error("option bit depth:"+t.bitDepth+" is not supported at present")};ee.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}};ee.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())};ee.prototype.filterData=function(t,e,n){let r=ns(t,e,n,this._options),i=v.COLORTYPE_TO_BPP_MAP[this._options.colorType];return rs(r,e,n,this._options,i)};ee.prototype._packChunk=function(t,e){let n=e?e.length:0,r=Buffer.alloc(n+12);return r.writeUInt32BE(n,0),r.writeUInt32BE(t,4),e&&e.copy(r,8),r.writeInt32BE(ts.crc32(r.slice(4,r.length-4)),r.length-4),r};ee.prototype.packGAMA=function(t){let e=Buffer.alloc(4);return e.writeUInt32BE(Math.floor(t*v.GAMMA_DIVISION),0),this._packChunk(v.TYPE_gAMA,e)};ee.prototype.packIHDR=function(t,e){let n=Buffer.alloc(13);return n.writeUInt32BE(t,0),n.writeUInt32BE(e,4),n[8]=this._options.bitDepth,n[9]=this._options.colorType,n[10]=0,n[11]=0,n[12]=0,this._packChunk(v.TYPE_IHDR,n)};ee.prototype.packIDAT=function(t){return this._packChunk(v.TYPE_IDAT,t)};ee.prototype.packIEND=function(){return this._packChunk(v.TYPE_IEND,null)}});var Rr=d((ia,Ar)=>{"use strict";var os=S("util"),Br=S("stream"),ss=Ce(),ls=Yt(),Lr=Ar.exports=function(t){Br.call(this);let e=t||{};this._packer=new ls(e),this._deflate=this._packer.createDeflate(),this.readable=!0};os.inherits(Lr,Br);Lr.prototype.pack=function(t,e,n,r){this.emit("data",Buffer.from(ss.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(e,n)),r&&this.emit("data",this._packer.packGAMA(r));let i=this._packer.filterData(t,e,n);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",(function(o){this.emit("data",this._packer.packIDAT(o))}).bind(this)),this._deflate.on("end",(function(){this.emit("data",this._packer.packIEND()),this.emit("end")}).bind(this)),this._deflate.end(i)}});var Fr=d((Ae,Ur)=>{"use strict";var kr=S("assert").ok,ye=S("zlib"),as=S("util"),vr=S("buffer").kMaxLength;function se(t){if(!(this instanceof se))return new se(t);t&&t.chunkSize<ye.Z_MIN_CHUNK&&(t.chunkSize=ye.Z_MIN_CHUNK),ye.Inflate.call(this,t),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,t&&t.maxLength!=null&&(this._maxLength=t.maxLength)}function cs(t){return new se(t)}function jr(t,e){e&&process.nextTick(e),t._handle&&(t._handle.close(),t._handle=null)}se.prototype._processChunk=function(t,e,n){if(typeof n=="function")return ye.Inflate._processChunk.call(this,t,e,n);let r=this,i=t&&t.length,o=this._chunkSize-this._offset,s=this._maxLength,l=0,a=[],c=0,u;this.on("error",function(m){u=m});function f(m,y){if(r._hadError)return;let b=o-y;if(kr(b>=0,"have should not go down"),b>0){let E=r._buffer.slice(r._offset,r._offset+b);if(r._offset+=b,E.length>s&&(E=E.slice(0,s)),a.push(E),c+=E.length,s-=E.length,s===0)return!1}return(y===0||r._offset>=r._chunkSize)&&(o=r._chunkSize,r._offset=0,r._buffer=Buffer.allocUnsafe(r._chunkSize)),y===0?(l+=i-m,i=m,!0):!1}kr(this._handle,"zlib binding closed");let h;do h=this._handle.writeSync(e,t,l,i,this._buffer,this._offset,o),h=h||this._writeState;while(!this._hadError&&f(h[0],h[1]));if(this._hadError)throw u;if(c>=vr)throw jr(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+vr.toString(16)+" bytes");let g=Buffer.concat(a,c);return jr(this),g};as.inherits(se,ye.Inflate);function us(t,e){if(typeof e=="string"&&(e=Buffer.from(e)),!(e instanceof Buffer))throw new TypeError("Not a string or buffer");let n=t._finishFlushFlag;return n==null&&(n=ye.Z_FINISH),t._processChunk(e,n)}function Nr(t,e){return us(new se(e),t)}Ur.exports=Ae=Nr;Ae.Inflate=se;Ae.createInflate=cs;Ae.inflateSync=Nr});var Gt=d((oa,Dr)=>{"use strict";var qr=Dr.exports=function(t){this._buffer=t,this._reads=[]};qr.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e})};qr.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let t=this._reads[0];if(this._buffer.length&&(this._buffer.length>=t.length||t.allowLess)){this._reads.shift();let e=this._buffer;this._buffer=e.slice(t.length),t.func.call(this,e.slice(0,t.length))}else break}if(this._reads.length>0)return new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)return new Error("unrecognised content at end of stream")}});var Hr=d(zr=>{"use strict";var fs=Gt(),hs=jt();zr.process=function(t,e){let n=[],r=new fs(t);return new hs(e,{read:r.read.bind(r),write:function(o){n.push(o)},complete:function(){}}).start(),r.process(),Buffer.concat(n)}});var Wr=d((la,Vr)=>{"use strict";var Yr=!0,Gr=S("zlib"),ds=Fr();Gr.deflateSync||(Yr=!1);var ps=Gt(),gs=Hr(),ms=qt(),_s=Dt(),bs=zt();Vr.exports=function(t,e){if(!Yr)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let n;function r(j){n=j}let i;function o(j){i=j}function s(j){i.transColor=j}function l(j){i.palette=j}function a(){i.alpha=!0}let c;function u(j){c=j}let f=[];function h(j){f.push(j)}let g=new ps(t);if(new ms(e,{read:g.read.bind(g),error:r,metadata:o,gamma:u,palette:l,transColor:s,inflateData:h,simpleTransparency:a}).start(),g.process(),n)throw n;let y=Buffer.concat(f);f.length=0;let b;if(i.interlace)b=Gr.inflateSync(y);else{let U=((i.width*i.bpp*i.depth+7>>3)+1)*i.height;b=ds(y,{chunkSize:U,maxLength:U})}if(y=null,!b||!b.length)throw new Error("bad png - invalid inflate data response");let E=gs.process(b,i);y=null;let at=_s.dataToBitMap(E,i);E=null;let we=bs(at,i);return i.data=we,i.gamma=c||0,i}});var $r=d((aa,Jr)=>{"use strict";var Kr=!0,Qr=S("zlib");Qr.deflateSync||(Kr=!1);var Cs=Ce(),ys=Yt();Jr.exports=function(t,e){if(!Kr)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let n=e||{},r=new ys(n),i=[];i.push(Buffer.from(Cs.PNG_SIGNATURE)),i.push(r.packIHDR(t.width,t.height)),t.gamma&&i.push(r.packGAMA(t.gamma));let o=r.filterData(t.data,t.width,t.height),s=Qr.deflateSync(o,r.getDeflateOptions());if(o=null,!s||!s.length)throw new Error("bad png - invalid compressed data response");return i.push(r.packIDAT(s)),i.push(r.packIEND()),Buffer.concat(i)}});var Zr=d(Vt=>{"use strict";var ws=Wr(),Es=$r();Vt.read=function(t,e){return ws(t,e||{})};Vt.write=function(t,e){return Es(t,e)}});var ti=d(ei=>{"use strict";var Ts=S("util"),Xr=S("stream"),Os=Tr(),Ps=Rr(),Ms=Zr(),N=ei.PNG=function(t){Xr.call(this),t=t||{},this.width=t.width|0,this.height=t.height|0,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,t.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new Os(t),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",(function(e){this.data=e,this.emit("parsed",e)}).bind(this)),this._packer=new Ps(t),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};Ts.inherits(N,Xr);N.sync=Ms;N.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(process.nextTick((function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}).bind(this)),this)};N.prototype.parse=function(t,e){if(e){let n,r;n=(function(i){this.removeListener("error",r),this.data=i,e(null,this)}).bind(this),r=(function(i){this.removeListener("parsed",n),e(i,null)}).bind(this),this.once("parsed",n),this.once("error",r)}return this.end(t),this};N.prototype.write=function(t){return this._parser.write(t),!0};N.prototype.end=function(t){this._parser.end(t)};N.prototype._metadata=function(t){this.width=t.width,this.height=t.height,this.emit("metadata",t)};N.prototype._gamma=function(t){this.gamma=t};N.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")};N.bitblt=function(t,e,n,r,i,o,s,l){if(n|=0,r|=0,i|=0,o|=0,s|=0,l|=0,n>t.width||r>t.height||n+i>t.width||r+o>t.height)throw new Error("bitblt reading outside image");if(s>e.width||l>e.height||s+i>e.width||l+o>e.height)throw new Error("bitblt writing outside image");for(let a=0;a<o;a++)t.data.copy(e.data,(l+a)*e.width+s<<2,(r+a)*t.width+n<<2,(r+a)*t.width+n+i<<2)};N.prototype.bitblt=function(t,e,n,r,i,o,s){return N.bitblt(this,t,e,n,r,i,o,s),this};N.adjustGamma=function(t){if(t.gamma){for(let e=0;e<t.height;e++)for(let n=0;n<t.width;n++){let r=t.width*e+n<<2;for(let i=0;i<3;i++){let o=t.data[r+i]/255;o=Math.pow(o,1/2.2/t.gamma),t.data[r+i]=Math.round(o*255)}}t.gamma=0}};N.prototype.adjustGamma=function(){N.adjustGamma(this)}});var Re=d(le=>{"use strict";function ni(t){if(typeof t=="number"&&(t=t.toString()),typeof t!="string")throw new Error("Color should be defined as hex string");let e=t.slice().replace("#","").split("");if(e.length<3||e.length===5||e.length>8)throw new Error("Invalid hex color: "+t);(e.length===3||e.length===4)&&(e=Array.prototype.concat.apply([],e.map(function(r){return[r,r]}))),e.length===6&&e.push("F","F");let n=parseInt(e.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:n&255,hex:"#"+e.slice(0,6).join("")}}le.getOptions=function(e){e||(e={}),e.color||(e.color={});let n=typeof e.margin>"u"||e.margin===null||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,i=e.scale||4;return{width:r,scale:r?4:i,margin:n,color:{dark:ni(e.color.dark||"#000000ff"),light:ni(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}};le.getScale=function(e,n){return n.width&&n.width>=e+n.margin*2?n.width/(e+n.margin*2):n.scale};le.getImageWidth=function(e,n){let r=le.getScale(e,n);return Math.floor((e+n.margin*2)*r)};le.qrToImageData=function(e,n,r){let i=n.modules.size,o=n.modules.data,s=le.getScale(i,r),l=Math.floor((i+r.margin*2)*s),a=r.margin*s,c=[r.color.light,r.color.dark];for(let u=0;u<l;u++)for(let f=0;f<l;f++){let h=(u*l+f)*4,g=r.color.light;if(u>=a&&f>=a&&u<l-a&&f<l-a){let m=Math.floor((u-a)/s),y=Math.floor((f-a)/s);g=c[o[m*i+y]?1:0]}e[h++]=g.r,e[h++]=g.g,e[h++]=g.b,e[h]=g.a}}});var ri=d(V=>{"use strict";var Ss=S("fs"),Is=ti().PNG,Wt=Re();V.render=function(e,n){let r=Wt.getOptions(n),i=r.rendererOpts,o=Wt.getImageWidth(e.modules.size,r);i.width=o,i.height=o;let s=new Is(i);return Wt.qrToImageData(s.data,e,r),s};V.renderToDataURL=function(e,n,r){typeof r>"u"&&(r=n,n=void 0),V.renderToBuffer(e,n,function(i,o){i&&r(i);let s="data:image/png;base64,";s+=o.toString("base64"),r(null,s)})};V.renderToBuffer=function(e,n,r){typeof r>"u"&&(r=n,n=void 0);let i=V.render(e,n),o=[];i.on("error",r),i.on("data",function(s){o.push(s)}),i.on("end",function(){r(null,Buffer.concat(o))}),i.pack()};V.renderToFile=function(e,n,r,i){typeof i>"u"&&(i=r,r=void 0);let o=!1,s=(...a)=>{o||(o=!0,i.apply(null,a))},l=Ss.createWriteStream(e);l.on("error",s),l.on("close",s),V.renderToFileStream(l,n,r)};V.renderToFileStream=function(e,n,r){V.render(n,r).pack().pipe(e)}});var ii=d(rt=>{"use strict";var xs=Re(),Bs={WW:" ",WB:"\u2584",BB:"\u2588",BW:"\u2580"},Ls={BB:" ",BW:"\u2584",WW:"\u2588",WB:"\u2580"};function As(t,e,n){return t&&e?n.BB:t&&!e?n.BW:!t&&e?n.WB:n.WW}rt.render=function(t,e,n){let r=xs.getOptions(e),i=Bs;(r.color.dark.hex==="#ffffff"||r.color.light.hex==="#000000")&&(i=Ls);let o=t.modules.size,s=t.modules.data,l="",a=Array(o+r.margin*2+1).join(i.WW);a=Array(r.margin/2+1).join(a+`
`);let c=Array(r.margin+1).join(i.WW);l+=a;for(let u=0;u<o;u+=2){l+=c;for(let f=0;f<o;f++){let h=s[u*o+f],g=s[(u+1)*o+f];l+=As(h,g,i)}l+=c+`
`}return l+=a.slice(0,-1),typeof n=="function"&&n(null,l),l};rt.renderToFile=function(e,n,r,i){typeof i>"u"&&(i=r,r=void 0);let o=S("fs"),s=rt.render(n,r);o.writeFile(e,s,i)}});var si=d(oi=>{"use strict";oi.render=function(t,e,n){let r=t.modules.size,i=t.modules.data,o="\x1B[40m  \x1B[0m",s="\x1B[47m  \x1B[0m",l="",a=Array(r+3).join(s),c=Array(2).join(s);l+=a+`
`;for(let u=0;u<r;++u){l+=s;for(let f=0;f<r;f++)l+=i[u*r+f]?o:s;l+=c+`
`}return l+=a+`
`,typeof n=="function"&&n(null,l),l}});var ui=d(ci=>{"use strict";var Rs="\x1B[47m",ks="\x1B[40m",Kt="\x1B[37m",Qt="\x1B[30m",ae="\x1B[0m",vs=Rs+Qt,js=ks+Kt,Ns=function(t,e,n){return{"00":ae+" "+t,"01":ae+e+"\u2584"+t,"02":ae+n+"\u2584"+t,10:ae+e+"\u2580"+t,11:" ",12:"\u2584",20:ae+n+"\u2580"+t,21:"\u2580",22:"\u2588"}},li=function(t,e,n,r){let i=e+1;if(n>=i||r>=i||r<-1||n<-1)return"0";if(n>=e||r>=e||r<0||n<0)return"1";let o=r*e+n;return t[o]?"2":"1"},ai=function(t,e,n,r){return li(t,e,n,r)+li(t,e,n,r+1)};ci.render=function(t,e,n){let r=t.modules.size,i=t.modules.data,o=!!(e&&e.inverse),s=e&&e.inverse?js:vs,c=Ns(s,o?Qt:Kt,o?Kt:Qt),u=ae+`
`+s,f=s;for(let h=-1;h<r+1;h+=2){for(let g=-1;g<r;g++)f+=c[ai(i,r,g,h)];f+=c[ai(i,r,r,h)]+u}return f+=ae,typeof n=="function"&&n(null,f),f}});var hi=d(fi=>{"use strict";var Us=si(),Fs=ui();fi.render=function(t,e,n){return e&&e.small?Fs.render(t,e,n):Us.render(t,e,n)}});var $t=d(pi=>{"use strict";var qs=Re();function di(t,e){let n=t.a/255,r=e+'="'+t.hex+'"';return n<1?r+" "+e+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Jt(t,e,n){let r=t+e;return typeof n<"u"&&(r+=" "+n),r}function Ds(t,e,n){let r="",i=0,o=!1,s=0;for(let l=0;l<t.length;l++){let a=Math.floor(l%e),c=Math.floor(l/e);!a&&!o&&(o=!0),t[l]?(s++,l>0&&a>0&&t[l-1]||(r+=o?Jt("M",a+n,.5+c+n):Jt("m",i,0),i=0,o=!1),a+1<e&&t[l+1]||(r+=Jt("h",s),s=0)):i++}return r}pi.render=function(e,n,r){let i=qs.getOptions(n),o=e.modules.size,s=e.modules.data,l=o+i.margin*2,a=i.color.light.a?"<path "+di(i.color.light,"fill")+' d="M0 0h'+l+"v"+l+'H0z"/>':"",c="<path "+di(i.color.dark,"stroke")+' d="'+Ds(s,o,i.margin)+'"/>',u='viewBox="0 0 '+l+" "+l+'"',h='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+u+' shape-rendering="crispEdges">'+a+c+`</svg>
`;return typeof r=="function"&&r(null,h),h}});var gi=d(it=>{"use strict";var zs=$t();it.render=zs.render;it.renderToFile=function(e,n,r,i){typeof i>"u"&&(i=r,r=void 0);let o=S("fs"),l='<?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">'+it.render(n,r);o.writeFile(e,l,i)}});var mi=d(ot=>{"use strict";var Zt=Re();function Hs(t,e,n){t.clearRect(0,0,e.width,e.height),e.style||(e.style={}),e.height=n,e.width=n,e.style.height=n+"px",e.style.width=n+"px"}function Ys(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}ot.render=function(e,n,r){let i=r,o=n;typeof i>"u"&&(!n||!n.getContext)&&(i=n,n=void 0),n||(o=Ys()),i=Zt.getOptions(i);let s=Zt.getImageWidth(e.modules.size,i),l=o.getContext("2d"),a=l.createImageData(s,s);return Zt.qrToImageData(a.data,e,i),Hs(l,o,s),l.putImageData(a,0,0),o};ot.renderToDataURL=function(e,n,r){let i=r;typeof i>"u"&&(!n||!n.getContext)&&(i=n,n=void 0),i||(i={});let o=ot.render(e,n,i),s=i.type||"image/png",l=i.rendererOpts||{};return o.toDataURL(s,l.quality)}});var bi=d(ke=>{"use strict";var Gs=ht(),Xt=Lt(),_i=mi(),Vs=$t();function en(t,e,n,r,i){let o=[].slice.call(arguments,1),s=o.length,l=typeof o[s-1]=="function";if(!l&&!Gs())throw new Error("Callback required as last argument");if(l){if(s<2)throw new Error("Too few arguments provided");s===2?(i=n,n=e,e=r=void 0):s===3&&(e.getContext&&typeof i>"u"?(i=r,r=void 0):(i=r,r=n,n=e,e=void 0))}else{if(s<1)throw new Error("Too few arguments provided");return s===1?(n=e,e=r=void 0):s===2&&!e.getContext&&(r=n,n=e,e=void 0),new Promise(function(a,c){try{let u=Xt.create(n,r);a(t(u,e,r))}catch(u){c(u)}})}try{let a=Xt.create(n,r);i(null,t(a,e,r))}catch(a){i(a)}}ke.create=Xt.create;ke.toCanvas=en.bind(null,_i.render);ke.toDataURL=en.bind(null,_i.renderToDataURL);ke.toString=en.bind(null,function(t,e,n){return Vs.render(t,n)})});var Ei=d(te=>{"use strict";var Ci=ht(),tn=Lt(),Ws=ri(),yi=ii(),Ks=hi(),wi=gi();function ve(t,e,n){if(typeof t>"u")throw new Error("String required as first argument");if(typeof n>"u"&&(n=e,e={}),typeof n!="function")if(Ci())e=n||{},n=null;else throw new Error("Callback required as last argument");return{opts:e,cb:n}}function Qs(t){return t.slice((t.lastIndexOf(".")-1>>>0)+2).toLowerCase()}function st(t){switch(t){case"svg":return wi;case"txt":case"utf8":return yi;case"png":case"image/png":default:return Ws}}function Js(t){switch(t){case"svg":return wi;case"terminal":return Ks;case"utf8":default:return yi}}function je(t,e,n){if(!n.cb)return new Promise(function(r,i){try{let o=tn.create(e,n.opts);return t(o,n.opts,function(s,l){return s?i(s):r(l)})}catch(o){i(o)}});try{let r=tn.create(e,n.opts);return t(r,n.opts,n.cb)}catch(r){n.cb(r)}}te.create=tn.create;te.toCanvas=bi().toCanvas;te.toString=function(e,n,r){let i=ve(e,n,r),o=i.opts?i.opts.type:void 0,s=Js(o);return je(s.render,e,i)};te.toDataURL=function(e,n,r){let i=ve(e,n,r),o=st(i.opts.type);return je(o.renderToDataURL,e,i)};te.toBuffer=function(e,n,r){let i=ve(e,n,r),o=st(i.opts.type);return je(o.renderToBuffer,e,i)};te.toFile=function(e,n,r,i){if(typeof e!="string"||!(typeof n=="string"||typeof n=="object"))throw new Error("Invalid argument");if(arguments.length<3&&!Ci())throw new Error("Too few arguments provided");let o=ve(n,r,i),s=o.opts.type||Qs(e),a=st(s).renderToFile.bind(null,e);return je(a,n,o)};te.toFileStream=function(e,n,r){if(arguments.length<2)throw new Error("Too few arguments provided");let i=ve(n,r,e.emit.bind(e,"error")),s=st("png").renderToFileStream.bind(null,e);je(s,n,i)}});var Oi=d((Ea,Ti)=>{"use strict";Ti.exports=Ei()});var Bi=(t,e)=>(e.object==null||e.object._id==null?null:e.object._id.$oid)??e.project_name;function Li(t,e){if(t&1&&(C(0,"p",6),T(1),_()),t&2){let n=P();p(),I(n.note)}}function Ai(t,e){if(t&1&&(C(0,"div",7),T(1),_()),t&2){let n=P();p(),I(n.category)}}function Ri(t,e){if(t&1&&(C(0,"div",2)(1,"span",3),T(2),_(),C(3,"div",4),T(4),_(),C(5,"h2",5),T(6),_(),L(7,Li,2,1,"p",6),L(8,Ai,2,1,"div",7),_()),t&2){let n=e,r=P().$implicit,i=P(),o=n._id==null?null:n._id.$oid;q("routerLink",o?"/objects/tab/"+o:null),p(),Ue("data-status",n.status||i.defaultStatus),p(),ne(" ",i.formatStatus(n.status)," "),p(2),I(r.project_name),p(2),I(n.address.street),p(),A(n.note?7:-1),p(),A(n.category?8:-1)}}function ki(t,e){if(t&1&&L(0,Ri,9,7,"div",2),t&2){let n,r=e.$implicit;A((n=r.object)?0:-1,n)}}var Ve=class t{#n=Y(He);objectsWithProjects=this.#n.objectsWithProjects;defaultStatus=Ye;formatStatus=Ge;ngOnInit(){this.#n.loadAllObjects()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ne({type:t,selectors:[["app-object"]],decls:7,vars:3,consts:[[1,"wrapper"],[1,"card-wrapper"],[1,"card",3,"routerLink"],[1,"status-pill"],[1,"project-name"],[1,"headline"],[1,"note"],[1,"category"]],template:function(n,r){n&1&&(C(0,"div",0)(1,"h1"),T(2),R(3,"translate"),_(),C(4,"div",1),Ee(5,ki,1,1,null,null,Bi),_()()),n&2&&(p(2),I(k(3,1,"objects.title")),p(3),Te(r.objectsWithProjects()))},dependencies:[cn,ze,De],styles:[".card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;gap:.25rem}.status-pill[_ngcontent-%COMP%]{align-self:flex-start;padding:.1rem .6rem;border-radius:999px;font-size:.7rem;text-transform:uppercase;letter-spacing:.05em;background-color:#e2e3e5;color:#383d41}.status-pill[data-status=in_progress][_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404}.status-pill[data-status=verified][_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.status-pill[data-status=closed][_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.project-name[_ngcontent-%COMP%]{font-size:.75rem;font-weight:600;color:#6c757d;text-transform:uppercase;letter-spacing:.05em;margin-top:.25rem}.note[_ngcontent-%COMP%]{font-size:.85rem;color:#4a4a4a}.category[_ngcontent-%COMP%]{text-decoration:overline;font-size:.85rem;color:#4a4a4a;font-weight:700}.card-wrapper[_ngcontent-%COMP%]{align-items:stretch}"],changeDetection:0})};var Pi=Mi(Oi());function $s(t,e){if(t&1&&(C(0,"li"),T(1),R(2,"translate"),_()),t&2){let n,r=P(2);p(),qe(" ",k(2,2,"objects.level"),": ",(n=r.object())==null||n.address==null?null:n.address.level," ")}}function Zs(t,e){if(t&1&&(C(0,"li"),T(1),R(2,"translate"),_()),t&2){let n,r=P(2);p(),qe(" ",k(2,2,"objects.doorNumber"),": ",(n=r.object())==null||n.address==null?null:n.address.door_number," ")}}function Xs(t,e){if(t&1&&(C(0,"p",17),T(1),_()),t&2){let n,r=P(2);p(),I((n=r.object())==null?null:n.note)}}function el(t,e){if(t&1&&(C(0,"option",23),T(1),_()),t&2){let n,r=e.$implicit,i=P(2);q("value",r)("selected",r===((n=i.object())==null?null:n.category)),p(),I(r)}}function tl(t,e){if(t&1&&(C(0,"option",23),T(1),_()),t&2){let n,r=e.$implicit,i=P(2);q("value",r)("selected",r===((n=i.object())==null?null:n.status)),p(),I(i.formatStatus(r))}}function nl(t,e){if(t&1){let n=Fe();C(0,"section",2)(1,"header")(2,"h2"),T(3),_(),C(4,"span",16),T(5),_()(),C(6,"ul")(7,"li"),T(8),_(),L(9,$s,3,4,"li"),L(10,Zs,3,4,"li"),_(),L(11,Xs,2,1,"p",17),C(12,"div",18)(13,"div",19)(14,"label",20),T(15),R(16,"translate"),_(),C(17,"select",21),he("change",function(i){ue(n);let o=P();return fe(o.updateCategory(i.target.value))}),C(18,"option",22),T(19),R(20,"translate"),_(),Ee(21,el,2,3,"option",23,ft),_()(),C(23,"div",24)(24,"label",25),T(25),R(26,"translate"),_(),C(27,"select",26),he("change",function(i){ue(n);let o=P();return fe(o.updateStatus(i.target.value))}),Ee(28,tl,2,3,"option",23,ft),_()()()()}if(t&2){let n,r,i,o,s,l,a,c,u,f=P();p(3),I((n=f.object())==null||n.address==null?null:n.address.street),p(),Ue("data-status",((r=f.object())==null?null:r.status)||f.defaultStatus),p(),ne(" ",f.formatStatus((i=f.object())==null?null:i.status)," "),p(3),qe(" ",(o=f.object())==null||o.address==null?null:o.address.street," ",(o=f.object())==null||o.address==null?null:o.address.house_number," "),p(),A(!((s=f.object())==null||s.address==null)&&s.address.level?9:-1),p(),A(!((l=f.object())==null||l.address==null)&&l.address.door_number?10:-1),p(),A((a=f.object())!=null&&a.note?11:-1),p(4),I(k(16,15,"objects.category")),p(2),q("value",(c=f.object())==null?null:c.category)("disabled",f.updatingCategory()),p(2),I(k(20,17,"objects.noCategory")),p(2),Te(f.projectCategories()),p(4),I(k(26,19,"objects.status")),p(2),q("value",((u=f.object())==null?null:u.status)||f.defaultStatus)("disabled",f.updatingStatus()),p(),Te(f.statuses)}}function rl(t,e){t&1&&(T(0),R(1,"translate")),t&2&&ne(" ",k(1,1,"objects.generatingQr")," ")}function il(t,e){if(t&1&&(T(0),R(1,"translate"),R(2,"translate")),t&2){let n=P();ne(" ",n.shareQrDataUrl()?k(1,1,"objects.regenerateQr"):k(2,3,"objects.generateQr")," ")}}function ol(t,e){if(t&1){let n=Fe();C(0,"button",27),he("click",function(){ue(n);let i=P();return fe(i.copyShareLink())}),T(1),R(2,"translate"),_()}t&2&&(p(),ne(" ",k(2,1,"objects.copyLink")," "))}function sl(t,e){if(t&1&&(C(0,"p",7),T(1),R(2,"translate"),_()),t&2){let n=P();p(),I(k(2,1,n.shareError()))}}function ll(t,e){if(t&1&&(C(0,"div",8),Oe(1,"img",28),C(2,"p",29),T(3),_(),C(4,"small"),T(5),R(6,"translate"),_()()),t&2){let n=P();p(),q("src",n.shareQrDataUrl(),ut),p(2),I(n.shareUrl()),p(2),I(k(6,3,"objects.shareHint"))}}function al(t,e){if(t&1&&Oe(0,"app-file-list",9),t&2){let n=P();q("files",n.files())}}function cl(t,e){t&1&&(C(0,"p"),T(1),R(2,"translate"),_()),t&2&&(p(),I(k(2,1,"objects.uploading")))}function ul(t,e){if(t&1&&Oe(0,"img",15),t&2){let n=P();q("src",n.imagePreviewUrl(),ut)}}var lt=class t{#n=Y(He);#r=Y(ln);#i=Y(an);#o=Y(pn);#e=Y(un);#t=Y(hn);#s=Y(fn);object=F(null);files=F([]);imagePreviewUrl=F(null);uploading=F(!1);shareUrl=F(null);shareQrDataUrl=F(null);shareLoading=F(!1);shareError=F(null);projectCategories=F([]);updatingCategory=F(!1);updatingStatus=F(!1);defaultStatus=Ye;formatStatus=Ge;statuses=dn;ngOnInit(){let e=this.#r.snapshot.paramMap.get("id");e?this.#n.loadObject(e).subscribe({next:n=>{this.object.set(n),this.shareUrl.set(null),this.shareQrDataUrl.set(null),this.shareError.set(null),this.loadFiles(e),this.loadProjectCategories(e)},error:()=>{this.#e.showError(this.#t.instant("errors.loadObjectFailed")),this.#i.navigate(["/"])}}):this.#i.navigate(["/"])}loadProjectCategories(e){this.#s.get(`object/${e}/project-categories`).subscribe({next:n=>{this.projectCategories.set(n.categories||[])},error:()=>{this.projectCategories.set([])}})}updateCategory(e){let n=this.#r.snapshot.paramMap.get("id");if(!n)return;let r=e===""?null:e;this.updatingCategory.set(!0),this.#n.updateObjectCategory(n,r).subscribe({next:i=>{this.object.set(i),this.#e.showSuccess(this.#t.instant("objects.categoryUpdated")),this.updatingCategory.set(!1)},error:i=>{this.#e.showError(i.message||this.#t.instant("objects.updateCategoryFailed")),this.updatingCategory.set(!1)}})}updateStatus(e){let n=this.#r.snapshot.paramMap.get("id");n&&(this.updatingStatus.set(!0),this.#n.updateObjectStatus(n,e).subscribe({next:r=>{this.object.set(r),this.#e.showSuccess(this.#t.instant("objects.statusUpdated")),this.updatingStatus.set(!1)},error:r=>{this.#e.showError(r.message||this.#t.instant("objects.updateStatusFailed")),this.updatingStatus.set(!1)}}))}loadFiles(e){this.#o.getFilesForObject(e).subscribe({next:n=>{let r=n.map(i=>rn(nn({},i),{filename:i.filename||i.path.split(/[\\/]/).pop()||""}));this.files.set(r)},error:n=>{console.error("Failed to load files:",n),this.files.set([])}})}generateShareQr(){let e=this.object()?._id?.$oid;!e||this.shareLoading()||(this.shareError.set(null),this.shareLoading.set(!0),this.#s.post(`object/${e}/share`,{}).subscribe({next:({token:n})=>{let r=`${window.location.origin}/share/${n}`;this.shareUrl.set(r),Pi.default.toDataURL(r,{width:256,margin:1}).then(i=>{this.shareQrDataUrl.set(i),this.shareLoading.set(!1)}).catch(()=>{this.shareError.set(this.#t.instant("objects.qrError")),this.shareLoading.set(!1)})},error:n=>{this.shareError.set(n.message||this.#t.instant("objects.qrError")),this.shareLoading.set(!1)}}))}copyShareLink(){let e=this.shareUrl(),n=typeof navigator<"u"?navigator.clipboard:null;!e||!n||n.writeText(e).then(()=>this.#e.showSuccess("objects.linkCopied")).catch(()=>this.#e.showError("objects.qrError"))}onFileSelected(e){let n=e.target;if(!n.files?.length)return;let r=n.files[0];if(!r.type.startsWith("image/")){this.#e.showError(this.#t.instant("errors.imageFileRequired")),this.imagePreviewUrl.set(null),n.value="";return}let i=new FileReader;i.onload=s=>{this.imagePreviewUrl.set(s.target?.result)},i.readAsDataURL(r);let o=this.#r.snapshot.paramMap.get("id");if(!o){this.#e.showError(this.#t.instant("errors.objectIdNotFound"));return}this.uploadFile(r,o)}uploadFile(e,n){this.uploading.set(!0);let r=new FormData;r.append("avatar",e,e.name),this.#o.uploadFileForObject(r,n).subscribe({next:()=>{this.#e.showSuccess(this.#t.instant("objects.uploadSuccess")),this.uploading.set(!1),this.#n.loadObject(n).subscribe({next:i=>{this.object.set(i),this.loadFiles(n),this.uploading.set(!1),this.imagePreviewUrl.set(null)}})},error:i=>{this.#e.showError(i.message||this.#t.instant("errors.uploadFailed")),this.uploading.set(!1),this.imagePreviewUrl.set(null)}})}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ne({type:t,selectors:[["app-object-tab"]],decls:22,vars:13,consts:[["fileInput",""],[1,"wrapper"],[1,"object-details"],[1,"content-wrapper"],[1,"share-block"],["type","button",1,"primary",3,"click","disabled"],["type","button",1,"ghost"],[1,"share-error"],[1,"qr-preview"],[3,"files"],[1,"file-upload"],["for","file",1,"icon","upload-icon","floating-icon"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 640 640"],["d","M352 173.3L352 384C352 401.7 337.7 416 320 416C302.3 416 288 401.7 288 384L288 173.3L246.6 214.7C234.1 227.2 213.8 227.2 201.3 214.7C188.8 202.2 188.8 181.9 201.3 169.4L297.3 73.4C309.8 60.9 330.1 60.9 342.6 73.4L438.6 169.4C451.1 181.9 451.1 202.2 438.6 214.7C426.1 227.2 405.8 227.2 393.3 214.7L352 173.3zM320 464C364.2 464 400 428.2 400 384L480 384C515.3 384 544 412.7 544 448L544 480C544 515.3 515.3 544 480 544L160 544C124.7 544 96 515.3 96 480L96 448C96 412.7 124.7 384 160 384L240 384C240 428.2 275.8 464 320 464zM464 488C477.3 488 488 477.3 488 464C488 450.7 477.3 440 464 440C450.7 440 440 450.7 440 464C440 477.3 450.7 488 464 488z"],["type","file","name","file","id","file","accept","image/*",3,"change","disabled"],["alt","Preview",1,"preview-image",3,"src"],[1,"status-pill"],[1,"note"],[1,"section-container"],[1,"category-section"],["for","objectCategory"],["id","objectCategory",1,"category-select",3,"change","value","disabled"],["value",""],[3,"value","selected"],[1,"status-section"],["for","objectStatus"],["id","objectStatus",1,"status-select",3,"change","value","disabled"],["type","button",1,"ghost",3,"click"],["alt","Object share QR code",3,"src"],[1,"share-hint"]],template:function(n,r){if(n&1){let i=Fe();C(0,"div",1)(1,"h1"),T(2),R(3,"translate"),_(),L(4,nl,30,21,"section",2),C(5,"div",3)(6,"div",4)(7,"button",5),he("click",function(){return ue(i),fe(r.generateShareQr())}),L(8,rl,2,3)(9,il,3,5),_(),L(10,ol,3,3,"button",6),_(),L(11,sl,3,3,"p",7),L(12,ll,7,5,"div",8),L(13,al,1,1,"app-file-list",9),_(),C(14,"div",10)(15,"label",11),on(),C(16,"svg",12),Oe(17,"path",13),_()(),sn(),C(18,"input",14,0),he("change",function(s){return ue(i),fe(r.onFileSelected(s))}),_(),L(20,cl,3,3,"p"),L(21,ul,1,1,"img",15),_()()}n&2&&(p(2),I(k(3,11,"objects.title")),p(2),A(r.object()?4:-1),p(3),q("disabled",r.shareLoading()),p(),A(r.shareLoading()?8:9),p(2),A(r.shareUrl()?10:-1),p(),A(r.shareError()?11:-1),p(),A(r.shareQrDataUrl()?12:-1),p(),A(r.files().length>0?13:-1),p(5),q("disabled",r.uploading()),p(2),A(r.uploading()?20:-1),p(),A(r.imagePreviewUrl()?21:-1))},dependencies:[ze,gn,De],styles:["[_nghost-%COMP%]{display:block}.wrapper[_ngcontent-%COMP%]{padding:0 var(--space);width:100%}.content-wrapper[_ngcontent-%COMP%]{margin-top:1.5rem;display:flex;flex-direction:column;gap:1.5rem}.content-wrapper[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{width:100%}.share-block[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem}.share-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.65rem 1.5rem;border-radius:999px;border:none;cursor:pointer}.share-block[_ngcontent-%COMP%]   .primary[_ngcontent-%COMP%]{background:#111;color:#fff}.share-block[_ngcontent-%COMP%]   .ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid #ccc}.qr-preview[_ngcontent-%COMP%]{align-self:flex-start;background:#fff;padding:1rem;border-radius:12px;box-shadow:0 6px 20px #00000014;text-align:center;max-width:280px}.qr-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:220px;height:220px;object-fit:cover;margin-bottom:.5rem}.qr-preview[_ngcontent-%COMP%]   .share-hint[_ngcontent-%COMP%]{font-size:.85rem;word-break:break-all;margin-bottom:.35rem}.share-error[_ngcontent-%COMP%]{color:#b81d13}.object-details[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1.5rem;border:1px solid #e5e5e5;border-radius:8px;background-color:#fff}.object-details[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:1rem;margin-bottom:1rem}.object-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0 0 .75rem}.object-details[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{font-size:.95rem;color:#444}.object-details[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{font-size:.9rem;color:#4a4a4a}.object-details[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%], .object-details[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid #e5e5e5}.object-details[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .object-details[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;font-size:.9rem;color:#444}.object-details[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-select[_ngcontent-%COMP%], .object-details[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .status-select[_ngcontent-%COMP%], .object-details[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .category-select[_ngcontent-%COMP%], .object-details[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-select[_ngcontent-%COMP%]{width:100%;max-width:300px;padding:.5rem;border:1px solid #ddd;border-radius:4px;font-size:1rem;background-color:#fff;cursor:pointer}.object-details[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-select[_ngcontent-%COMP%]:disabled, .object-details[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .status-select[_ngcontent-%COMP%]:disabled, .object-details[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .category-select[_ngcontent-%COMP%]:disabled, .object-details[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-select[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.object-details[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .category-select[_ngcontent-%COMP%]:focus, .object-details[_ngcontent-%COMP%]   .category-section[_ngcontent-%COMP%]   .status-select[_ngcontent-%COMP%]:focus, .object-details[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .category-select[_ngcontent-%COMP%]:focus, .object-details[_ngcontent-%COMP%]   .status-section[_ngcontent-%COMP%]   .status-select[_ngcontent-%COMP%]:focus{outline:none;border-color:#094c43;box-shadow:0 0 4px #0b63574d}.status-pill[_ngcontent-%COMP%]{padding:.2rem .75rem;border-radius:999px;font-size:.75rem;text-transform:uppercase;letter-spacing:.05em;background-color:#e2e3e5;color:#383d41}.status-pill[data-status=in_progress][_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404}.status-pill[data-status=verified][_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.status-pill[data-status=closed][_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.section-container[_ngcontent-%COMP%]{display:flex;width:100%;flex:1;gap:var(--space)}"],changeDetection:0})};var za=[{path:"",component:Ve},{path:"tab/:id",component:lt}];export{za as ObjectRoutes};
