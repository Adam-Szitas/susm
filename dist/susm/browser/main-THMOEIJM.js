import{a as pe}from"./chunk-DWUAIN37.js";import{C as r,Ca as J,Da as K,Ea as W,Fa as X,Ga as Y,H as k,Ha as ee,Ia as te,Ja as ne,Ka as ie,La as w,M as U,Ma as oe,Na as re,Oa as ae,P as G,Q,Ra as se,Sa as _,Ta as le,V as b,Va as ce,W as s,Wa as P,X as l,Y as y,ba as V,d as H,da as m,f as D,fa as c,ga as Z,ha as u,i as B,ia as g,l as x,na as f,o as a,oa as v,p as F,pa as q,q as p,r as d,ra as M,s as A,t as L,w as z,x as h,za as $}from"./chunk-5GMKLZ6Q.js";import"./chunk-C6Q5SG76.js";var S=async(e,o)=>{let t=a(_),n=a(w);for(;!t.initialized();)await new Promise(i=>setTimeout(i,10));return t.isAuthenticated()?!0:(n.navigate(["/login"],{queryParams:{returnUrl:o.url}}),!1)},E=async(e,o)=>{let t=a(_),n=a(w);for(;!t.initialized();)await new Promise(i=>setTimeout(i,10));return t.isAuthenticated()?(n.navigate(["/projects"]),!1):!0};var de=[{path:"",redirectTo:"projects",pathMatch:"full"},{path:"login",canActivate:[E],loadChildren:()=>import("./chunk-LDUKQHRL.js").then(e=>e.LoginRoutes)},{path:"register",canActivate:[E],loadChildren:()=>import("./chunk-YLKOK6AW.js").then(e=>e.RegisterRoutes)},{path:"dashboard",canActivate:[S],loadChildren:()=>import("./chunk-K6GGKJKY.js").then(e=>e.DashboardRoutes)},{path:"projects",canActivate:[S],loadChildren:()=>import("./chunk-W6NRO6O5.js").then(e=>e.ProjectsRoutes)},{path:"objects",canActivate:[S],loadChildren:()=>import("./chunk-4D53SEH4.js").then(e=>e.ObjectRoutes)},{path:"protocols",canActivate:[S],loadChildren:()=>import("./chunk-P4DTOPSI.js").then(e=>e.ProtocolsRoutes)},{path:"share/:token",loadComponent:()=>import("./chunk-JZHQW3J7.js").then(e=>e.ObjectShareComponent)}];var T=class e{#e=a(_);intercept(o,t){let n=this.#e.token(),i=o.url.includes("/login")||o.url.includes("/register");if(n&&!i){let ge=o.clone({setHeaders:{Authorization:`Bearer ${n}`}});return t.handle(ge)}let ue=o.clone({setHeaders:{"Content-type":"application/json"}});return t.handle(ue)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=x({token:e,factory:e.\u0275fac})};var C=class{_translations=h({});translations=M(()=>this._translations());setTranslations(o){this._translations.set(o)}get(o){return this._translations()[o]||o}},Oe=new C;var N=class e{#e=a(se);#t=a(_);#n=a(C);getTranslation(o){let t=o||this.#t.user()?.language?.toLowerCase()||"en";return this.#e.get(`translations/${t}`).pipe(H(n=>Array.isArray(n)&&n.length>0?n[0].translations||{}:n&&typeof n=="object"&&"translations"in n?n.translations:{}),B(n=>{this.#n.setTranslations(n)}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=x({token:e,factory:e.\u0275fac})};function fe(e){return()=>e.initialize()}var me={providers:[z(),q(),re(de,ae()),ee(Y()),K(X(),W()),{provide:J,useClass:T,multi:!0},{provide:U,useFactory:fe,deps:[_],multi:!0},F(P.forRoot({fallbackLang:"en",loader:{provide:le,useClass:N}})),C,_]};var O=class e{#e=a(_);constructor(){this.user=this.#e.user}user=h(null);isLoggedIn=M(()=>!!this.user());logout=()=>this.#e.logout();static \u0275fac=function(t){return new(t||e)};static \u0275prov=x({token:e,factory:e.\u0275fac,providedIn:"root"})};function _e(e,o){if(e&1){let t=V();s(0,"nav")(1,"div",0)(2,"i",1),m("click",function(){p(t);let i=c();return d(i.toggleMobileMenu())}),A(),s(3,"svg",2),y(4,"path",3),l()()(),L(),s(5,"div",4)(6,"ul")(7,"li",5),m("click",function(){p(t);let i=c();return d(i.hideMobileMenu())}),u(8),f(9,"translate"),l(),s(10,"li",5),m("click",function(){p(t);let i=c();return d(i.hideMobileMenu())}),u(11),f(12,"translate"),l(),s(13,"li",5),m("click",function(){p(t);let i=c();return d(i.hideMobileMenu())}),u(14),f(15,"translate"),l(),s(16,"li",5),m("click",function(){p(t);let i=c();return d(i.hideMobileMenu())}),u(17),f(18,"translate"),l()()(),s(19,"ul")(20,"li",6),m("click",function(){p(t);let i=c();return d(i.logout())}),u(21),f(22,"translate"),l()()(),s(23,"div",7)(24,"i",8),m("click",function(){p(t);let i=c();return d(i.hideMobileMenu())}),A(),s(25,"svg",9),y(26,"path",10),l()(),L(),s(27,"ul")(28,"li",5),m("click",function(){p(t);let i=c();return d(i.hideMobileMenu())}),u(29),f(30,"translate"),l(),s(31,"li",5),m("click",function(){p(t);let i=c();return d(i.hideMobileMenu())}),u(32),f(33,"translate"),l(),s(34,"li",5),m("click",function(){p(t);let i=c();return d(i.hideMobileMenu())}),u(35),f(36,"translate"),l(),s(37,"li",5),m("click",function(){p(t);let i=c();return d(i.hideMobileMenu())}),u(38),f(39,"translate"),l()()()}if(e&2){let t=c();r(7),b("routerLink","/dashboard"),r(),g(v(9,19,"navbar.dashboard")),r(2),b("routerLink","/projects"),r(),g(v(12,21,"navbar.projects")),r(2),b("routerLink","/objects"),r(),g(v(15,23,"navbar.objects")),r(2),b("routerLink","/protocols"),r(),g(v(18,25,"navbar.protocols")),r(4),g(v(22,27,"navbar.logout")),r(2),Z("open",t.toggledMenu()),r(5),b("routerLink","/dashboard"),r(),g(v(30,29,"navbar.dashboard")),r(2),b("routerLink","/projects"),r(),g(v(33,31,"navbar.projects")),r(2),b("routerLink","/objects"),r(),g(v(36,33,"navbar.objects")),r(2),b("routerLink","/protocols"),r(),g(v(39,35,"navbar.protocols"))}}function be(e,o){if(e&1){let t=V();s(0,"nav")(1,"span"),u(2),f(3,"translate"),l(),s(4,"ul")(5,"li",5),m("click",function(){p(t);let i=c();return d(i.toggleMobileMenu())}),u(6),f(7,"translate"),l(),s(8,"li",11),u(9),f(10,"translate"),l()()()}e&2&&(r(2),g(v(3,5,"navbar.logo")),r(3),b("routerLink","/login"),r(),g(v(7,7,"navbar.login")),r(2),b("routerLink","/register"),r(),g(v(10,9,"navbar.register")))}var j=class e{user=M(()=>this.#n.user());toggledMenu=h(!1);hideMenuItem=null;#e=a(w);#t=a(ne);#n=a(O);ngOnInit(){this.#e.events.pipe(D(o=>o instanceof te)).subscribe(()=>{this.getRouteParamsAndQueryParams()}),this.getRouteParamsAndQueryParams()}getRouteParamsAndQueryParams(){let o=this.#t.snapshot.params,t=this.#t.snapshot.queryParams}toggleMobileMenu(){this.toggledMenu.set(!this.toggledMenu())}hideMobileMenu(){this.toggledMenu.set(!1)}logout(){this.#n.logout(),this.#e.navigate(["/login"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=k({type:e,selectors:[["app-navbar"]],decls:2,vars:1,consts:[[1,"mobile"],[1,"hamburger-menu",3,"click"],["viewBox","0 0 100 80","fill","white"],["d","M0 0h100v20H0zM0 30h100v20H0zM0 60h100v20H0z"],[1,"desktop"],[3,"click","routerLink"],[3,"click"],[1,"mobile-menu"],[1,"close",3,"click"],["xmlns","http://www.w3.org/2000/svg"],["fill","white","fill-rule","evenodd","d","M5.293 5.293a1 1 0 0 1 1.414 0L12 10.586l5.293-5.293a1 1 0 1 1 1.414 1.414L13.414 12l5.293 5.293a1 1 0 0 1-1.414 1.414L12 13.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L10.586 12 5.293 6.707a1 1 0 0 1 0-1.414Z","clip-rule","evenodd"],[3,"routerLink"]],template:function(t,n){t&1&&G(0,_e,40,37)(1,be,11,11,"nav"),t&2&&Q(n.user()?0:1)},dependencies:[oe,P,ce],styles:["nav[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;background-color:var(--default-color);box-shadow:0 1px 5px #000;color:#fff;font-weight:700}nav[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:var(--space-large);align-self:anchor-center}.mobile-menu[_ngcontent-%COMP%]{position:absolute;height:calc(100dvh - 62px);top:0;width:300px;left:-350px;transition:left .5s ease-in-out;background-color:var(--button);z-index:10}.mobile-menu.open[_ngcontent-%COMP%]{left:0}.mobile-menu[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{background-color:var(--button);display:flex;flex-direction:column;color:#fff;margin:0;height:100%}.mobile-menu[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]{cursor:pointer}.mobile-menu[_ngcontent-%COMP%]   .close[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{height:26px;width:26px;margin:var(--space)}ul[_ngcontent-%COMP%]{padding:0;list-style-type:none;display:flex}.desktop[_ngcontent-%COMP%]{display:flex;width:100%;justify-content:space-between}.desktop[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{flex-direction:row}.mobile[_ngcontent-%COMP%]{display:none;align-items:center}.mobile[_ngcontent-%COMP%] > ul[_ngcontent-%COMP%]{flex-direction:column}.hamburger-menu[_ngcontent-%COMP%]{width:26px;margin:var(--space);color:#fff;cursor:pointer}li[_ngcontent-%COMP%]{cursor:pointer;margin:0 var(--space-small);padding:var(--space-small) var(--space);font-weight:700;font-size:var(--font-2)}li[_ngcontent-%COMP%]:hover{background-color:var(--button-hover)}@media screen and (max-width: 799px){.desktop[_ngcontent-%COMP%]{display:none}.mobile[_ngcontent-%COMP%]{display:flex}}"],changeDetection:0})};var R=class e{title=h("susm");#e=a(pe);ngOnInit(){this.#e.initialize()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=k({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(t,n){t&1&&y(0,"app-navbar")(1,"router-outlet")},dependencies:[ie,j],encapsulation:2})};$(R,me).catch(e=>console.error(e));
